<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Script -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- icon fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">

    <!-- link CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <style>
        .blog-content ul,
        .blog-content ol {
            list-style-type: disc;
            padding-left: 30px;
            margin: 10px 0;
        }
        .blog-content li {
            margin-bottom: 8px;
        }
    </style>
</head>

<body class="font-sans">
<div class="header-sticky">
    <!-- Top Navigation -->
    <div th:insert="~{/web/fragments/header}"></div>

    <!-- Breadcrumb -->
    <div class="bg-green-500 text-white py-2 px-4 ">
        <div class="container mx-auto ">
            <span>Trang chủ > Chi tiết bài viết</span>
        </div>
    </div>
</div>

<!-- blog -->
<div class="container mx-auto px-4 py-8 blog">
    <div class="mb-4 text-lg text-gray-600">
        <span>Người viết: <span class="font-semibold text-xl text-gray-800" th:text="${blog.user.fullName}">Tên người viết</span></span>
        <br>
        <span>Lần cập nhật gần nhất: <span th:text="${#temporals.format(blog.updatedAt, 'dd/MMM/yyyy')}">01/01/2024</span></span>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Phần blog chiếm 3/4 -->
        <div class="md:col-span-3 grid grid-cols-1 md:grid-cols-1 gap-8 items-start" >

            <div class="blog-content" th:utext="${blog.content}"></div>
            <!--        content blog ở đây-->
        </div>

        <!-- Phần "Có thể bạn quan tâm" -->
        <div class="md:col-span-1  p-4 rounded-lg shadow-md h-auto self-start" >
            <h2 class="text-lg font-bold text-white bg-green-600 p-2 rounded-md text-center">
                CÓ THỂ BẠN QUAN TÂM
            </h2>
            <ul class="mt-4 space-y-3" >
                <th:block th:each="blog, iterStat : ${allBlogs}">
                    <li th:if="${iterStat.index} &lt; 5" class="flex items-center space-x-3">
                        <img class="w-16 h-16 object-cover rounded-md"
                             th:src="${blog.thumbnail}"
                             th:alt="${blog.title}">
                        <a th:href="@{/blog/{slug}(slug=${blog.slug})}"
                           class="text-gray-700 font-medium hover:underline"
                           th:text="${#strings.length(blog.title) > 50} ? ${blog.title.substring(0, 50)} + '...' : ${blog.title}">
                        </a>
                    </li>
                </th:block>

                <li class="flex items-center space-x-3">
                    <img class="w-16 h-16 object-cover rounded-md"
                         src="https://file.hstatic.net/200000692807/article/mon-an-voi-hat-quinoa-1_1dd05b680b54411ca664d52cfbb27dcd_large.jpg"
                         alt="Top 25 cách chế biến hạt quinoa">
                    <a href="#" class="text-gray-700 font-medium hover:underline">
                        Top 25 cách chế biến hạt quinoa thành món ăn bổ dưỡng mà lại dễ làm
                    </a>
                </li>
            </ul>
        </div>

    </div>


    <!-- Phân trang -->
    <div class="pagination flex justify-center items-center mt-6 space-x-2" th:if="${totalPages > 1}">
        <ul class="pagination  d-flex justify-content-center  mt-3">
            <li class="page-item" th:classappend="${currentPage== 1?'disabled': ''}">
                <a class="page-link" th:href="|/blog?page=${currentPage - 1}|" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
            </li>
            <li class="page-item"
                th:classappend="${currentPage == number ? 'active' : ''}"
                th:each="number : ${#numbers.sequence(1,totalPages)}"><a class="page-link"
                                                                         th:href="|/blog?page=${number}|"
                                                                         th:text="${number}">1</a>
            </li>
            <li class="page-item"
                th:classappend="${currentPage== totalPages?'disabled': ''}"
            >
                <a class="page-link" th:href="|/blog?page=${currentPage + 1}|" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
            </li>
        </ul>
    </div>
</div>


<!-- Footer -->
<div class="bg-gray-900 text-white footer">
    <div th:insert="~{/web/fragments/footer}"></div>
</div>
<!-- Script boostrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

<!-- JS carousel -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="/assets/js/main.js">

</script>
<script th:inline="javascript">
    const blog = [[${blog}]];
    console.log("blog",blog);
</script>

</body>

</html>